# Overview

This charm supports deployment and scaling of the Bono component of a Project Clearwater system.  See http://www.projectclearwater.org for more information on Project Clearwater.

# Usage

The Bono service can be deployed by creating a suitable config.yaml file then running

    juju deploy --config config.yaml clearwater-bono
    juju add-relation clearwater-bono <dns-service>
    juju expose bono

The only currently supported DNS service for Clearwater is clearwater-route53 (when deploying in Amazon EC2).  Additional DNS services will be added for other environments in future.

The Bono configuration file takes the following format.

clearwater-bono:
  turn_workaround: <password>
  repo: http://repo.cw-ngv.com/stable

## Scale out Usage

## Known Limitations and Issues

clearwater-bono currently only supports running as a single unit.  Clustering support will be released shortly, which will allow units to be added to and removed from a clearwater-bono deployment using juju add-unit and juju remove-unit commands.

Note that this charm does not current pass charm proof because its hooks use EC2 APIs directly to obtain the public IP address rather than unit-get public-address.  This is to work around what looks like a Juju bug - unit-get public-address on EC2 returns the public hostname of the unit rather than the public IP address.  Unfortunately EC2 public hostname are actually split horizon hostnames, so if you attempt to resolve the hostname from within EC2 it actually resolved to a private IP address - it will only resolve to a public address if resolved from outside EC2.

# Configuration

# Contact Information

## Upstream Project Name

See http:www.projectclearwater.org and https://github.com/Metaswitch/clearwater-docs/wiki for information about clearwater.

Clearwater source code and issue list can be found at https://github.com/Metaswitch/.

The Clearwater mailing list is at lists.projectclearwater.org.
